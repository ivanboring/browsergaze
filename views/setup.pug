extends page-login

block content
    div(class="card-header bg-transparent pb-5")
        form(action='/setup', method='POST' role="form")
            div(class="form-group mb-3")
                div(class="input-group-merge input-group-alternative")
                    div(class="input-group-prepend")
                        span(class="input-group-text")
                            i(class="fas fa-envelope")
                        input(type='email', class="form-control", name='email', value=form.email.value, placeholder="E-mail", aria-invalid=form.email.error, required)
                small
                    if form.email.error
                        ul(class="error")
                            each error in form.email.errors
                                li(style="color:red;")=error

            div(class="form-group mb-3")
                div(class="input-group")
                    div(class="input-group-prepend")
                        div(class="input-group-text")
                            | Name
                    input(type='text', class="form-control", name='first_name', value=form.first_name.value, placeholder="First Name", aria-invalid=form.first_name.error, required)
                    input(type='text', class="form-control", name='last_name', value=form.last_name.value, placeholder="Last Name", aria-invalid=form.last_name.error, required)
                small
                    if form.first_name.error
                        ul(class="error")
                            each error in form.first_name.errors
                                li(style="color:red;")=error
                    if form.last_name.error
                        ul(class="error")
                            each error in form.last_name.errors
                                li(style="color:red;")=error
                        

            div(class="form-group mb-3")
                div(class="input-group-merge input-group-alternative")
                    div(class="input-group-prepend")
                        span(class="input-group-text")
                            i(class="fas fa-lock")
                        input(type='password', class="form-control", name='password', value='', placeholder="Password", required, aria-invalid=form.password.error)
                    small
                        if form.password.error
                            ul(class="error")
                                each error in form.password.errors
                                    li(style="color:red;")=error

            div(class="form-group mb-3")
                div(class="input-group-merge input-group-alternative")
                    div(class="input-group-prepend")
                        span(class="input-group-text")
                            i(class="fas fa-lock")
                        input(type='password', class="form-control", name='password2', value='', placeholder="Repeat Password", required)

            input(type='hidden', name='role', value='1')
            div(class="text-center")
                input(type='submit', class="btn btn-primary my-4", value='Start using glitch-hawk')